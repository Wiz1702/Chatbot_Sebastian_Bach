:root{
  --bg: #faf7f0;
  --accent: #2b3a67;
  --muted: #666;
}
body{font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); margin:0; min-height:100vh}

/* Fullscreen card */
.fullscreen-card{height:calc(100vh - 48px)}
.portrait-column{background:linear-gradient(180deg,#fff,#f6f3ee); box-shadow:2px 0 6px rgba(0,0,0,0.04)}
.portrait-img{width:220px; height:220px; object-fit:cover; border-radius:50%; box-shadow:0 8px 24px rgba(0,0,0,0.12)}

.chat-body{display:flex; flex-direction:column; height:100%}
.messages{flex:1; overflow:auto; border-radius:8px; background:transparent}
.message{margin:10px 0; padding:12px 14px; border-radius:12px; max-width:80%}
.message.user{margin-left:auto; background:#e7f0ff}
.message.bach{background:#fff7e6}
.message.system{background:#ffeef0}

.typing{opacity:0.7; font-style:italic}

/* Dark mode */
.dark{ --bg: #0b1220; --accent: #7fb3ff; --muted:#9aa4b2; }
.dark body{ background: var(--bg); color: #e6eef8}
.dark .portrait-column{ background: linear-gradient(180deg,#071126,#03101a) }
.dark .card{ background: #071126 }
.dark .chat-body{ background: #061021 }

.dark .portrait-img{ box-shadow: 0 8px 28px rgba(0,0,0,0.6) }

/* reduce container padding so the card nearly fills the viewport */
.container.py-5{ padding-top: 12px; padding-bottom: 12px }

/* Dark mode message colors: darker bubbles with light text */
.dark .message{ color: #e6eef8 }
.dark .message.user{ background: rgba(124,152,220,0.12); color: #e6eef8 }
.dark .message.bach{ background: rgba(200,170,100,0.09); color: #fff8e6 }
.dark .message.system{ background: rgba(255,100,100,0.08); color: #ffeaea }

/* Dark mode input/button */
.dark .form-control{ background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.06); color: #e6eef8 }
.dark .btn-primary{ background: var(--accent); border-color: rgba(255,255,255,0.06) }

/* Ensure Bootstrap's 'bg-white' doesn't stay bright in dark mode */
.dark .bg-white { background-color: #071126 !important; color: #e6eef8 !important; }
.dark .card, .dark .card-body, .dark .card-footer { background-color: #071126 !important; color: #e6eef8 !important; }
.dark .card-title, .dark p, .dark .text-muted { color: #cbd6e6 !important; }
.dark .messages { background: rgba(255,255,255,0.02); }
.dark .form-control::placeholder { color: rgba(230,238,248,0.45); }

/* Make sure scrollbars are visible on dark background */
.dark .messages::-webkit-scrollbar-thumb{ background: rgba(255,255,255,0.08); }

/* Make scrollbar subtle */
.messages::-webkit-scrollbar{ width:10px }
.messages::-webkit-scrollbar-thumb{ background: rgba(0,0,0,0.12); border-radius:10px }
.messages::-webkit-scrollbar-track{ background: transparent }

/* Ensure message list scrolls from bottom when new messages arrive */
.messages { scroll-behavior: smooth; padding-bottom: 12px; }
